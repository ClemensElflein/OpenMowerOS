#!/usr/bin/env bash
# OpenMowerOS pi-gen config: Debian Trixie lite with defaults matching CustomPiOS

# Image identity
IMG_NAME="OpenMowerOS"
PI_GEN_RELEASE="OpenMowerOS v2.x"

# Target platform
ARCH=arm64
RELEASE=trixie

# Default hostname/user (align with previous CustomPiOS)
TARGET_HOSTNAME="openmower"
FIRST_USER_NAME="openmower"
FIRST_USER_PASS="openmower"
DISABLE_FIRST_BOOT_USER_RENAME=1

# Locale/keyboard/timezone defaults
# Keep GB locale, but prefer US keyboard layout per request
LOCALE_DEFAULT="en_GB.UTF-8"
KEYBOARD_KEYMAP="us"
KEYBOARD_LAYOUT="English (US)"
TIMEZONE_DEFAULT="Europe/London"

# Enable SSH by default
ENABLE_SSH=1
PUBKEY_ONLY_SSH=0

# Minimal build: stage0..2 (lite) + our custom stage for comitup
# Note: This runs inside the container, so use container paths
STAGE_LIST="/pi-gen/stage0 /pi-gen/stage1 /pi-gen/stage2 /stage-openmower"

# Compression of exported image
DEPLOY_COMPRESSION=zip
COMPRESSION_LEVEL=6
